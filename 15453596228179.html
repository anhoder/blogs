<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  è¯»ã€Šç»†è¯´PHPã€‹ - Alançš„è¿›é˜¶æ—¥å¿—
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="Alançš„è¿›é˜¶æ—¥å¿—" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
 
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:alanalbert.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">åšå®¢</a></li>
        
        <li id=""><a target="_self" href="archives.html">å½’æ¡£</a></li>
        
        <li id=""><a target="_self" href="about.html">å…³äº</a></li>
        
        <li id=""><a target="_blank" href="https://github.com/AlanAlbert">GitHub</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Alançš„è¿›é˜¶æ—¥å¿—</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">åšå®¢</a></li>
        
        <li><a target="_self" href="archives.html">å½’æ¡£</a></li>
        
        <li><a target="_self" href="about.html">å…³äº</a></li>
        
        <li><a target="_blank" href="https://github.com/AlanAlbert">GitHub</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="php.html">PHP</a></li>
        
            <li><a href="interview.html">é¢è¯•</a></li>
        
            <li><a href="security.html">å®‰å…¨</a></li>
        
            <li><a href="linux.html">Linux</a></li>
        
            <li><a href="mysql.html">MySQL</a></li>
        
            <li><a href="redis.html">Redis</a></li>
        
            <li><a href="data-struct-and-algorithm.html">æ•°æ®ç»“æ„åŠç®—æ³•</a></li>
        
            <li><a href="computer-network.html">è®¡ç®—æœºç½‘ç»œ</a></li>
        
            <li><a href="version-control-tool.html">ç‰ˆæœ¬æ§åˆ¶å·¥å…·</a></li>
        
            <li><a href="read.html">è¯»ä¹¦</a></li>
        
            <li><a href="javascript.html">JavaScript</a></li>
        
            <li><a href="web-server.html">WebæœåŠ¡å™¨</a></li>
        
            <li><a href="hackintosh.html">é»‘è‹¹æœ</a></li>
        
            <li><a href="markdown.html">Markdown</a></li>
        
            <li><a href="other.html">å…¶å®ƒ</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
              <div class="f-img"><img src="https://source.unsplash.com/random/1024x404" /></div>
          
          <h1>è¯»ã€Šç»†è¯´PHPã€‹</h1>
     
        <div class="read-more clearfix">
          <span class="date">2018/12/21</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='read.html'>è¯»ä¹¦</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <span id="more"></span><!-- more -->

<p><em>Mission Start!</em></p>

<h2 id="toc_0">ä¸€ã€PHPçš„é”™è¯¯ERRORä¸å¼‚å¸¸EXCEPTION</h2>

<p><em>æ³¨æ„ï¼šåœ¨ä¸åŒçš„è¯­è¨€ä¸­ï¼Œé”™è¯¯ä¸å¼‚å¸¸çš„å®šä¹‰ä¸åŒã€‚å› æ­¤ä»¥ä¸‹å†…å®¹åªåœ¨PHPä¸­æˆç«‹ã€‚</em></p>

<h3 id="toc_1">é”™è¯¯ERROR</h3>

<p>é”™è¯¯ï¼šå±äºPHPè„šæœ¬è‡ªèº«çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯ç”±é”™è¯¯çš„è¯­æ³•ã€æœåŠ¡å™¨ç¯å¢ƒç­‰å¯¼è‡´ï¼Œä½¿å¾—ç¼–è¯‘å™¨æ— æ³•é€šè¿‡æ£€æŸ¥ï¼Œç”šè‡³æ— æ³•è¿è¡Œçš„æƒ…å†µã€‚    </p>

<p><strong>é”™è¯¯ä¸èƒ½è¢«try/catchæ•è·</strong>    </p>

<p>é”™è¯¯çš„çº§åˆ«ï¼š</p>

<ul>
<li>Fatal Error  è‡´å‘½é”™è¯¯ï¼Œè„šæœ¬ç»ˆæ­¢è¿è¡Œ
<ul>
<li>E_ERRO: è‡´å‘½çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œé˜»æ­¢è„šæœ¬çš„æ‰§è¡Œ</li>
<li>E_CORE_ERROR: PHPåˆå§‹åŒ–å¯åŠ¨è¿‡ç¨‹å‘ç”Ÿçš„é”™è¯¯ï¼Œç”±PHPå¼•æ“æ ¸å¿ƒäº§ç”Ÿ</li>
<li>E_COMPILE_ERROR: è‡´å‘½ç¼–è¯‘æ—¶é”™è¯¯ï¼Œç”±Zendè„šæœ¬å¼•æ“äº§ç”Ÿ</li>
<li>E_USER_ERROR: ç”¨æˆ·äº§ç”Ÿçš„é”™è¯¯ä¿¡æ¯ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨å‡½æ•°trigger_error()äº§ç”Ÿï¼ˆé”™è¯¯ç±»å‹è®¾ç½®ä¸ºE_USER_ERRORï¼‰</li>
</ul></li>
<li>Parse Error  ç¼–è¯‘æ—¶è§£æé”™è¯¯ï¼Œè¯­æ³•é”™è¯¯ï¼Œè„šæœ¬ç»ˆæ­¢è¿è¡Œ
<ul>
<li>E_PARSE: ç¼–è¯‘æ—¶è¯­æ³•è§£æé”™è¯¯ï¼Œä»…æœ‰åˆ†æå™¨äº§ç”Ÿ</li>
</ul></li>
<li>Warning Error  è­¦å‘Šé”™è¯¯ï¼Œè„šæœ¬ä¸ç»ˆæ­¢è¿è¡Œ
<ul>
<li>E_WARNING: è¿è¡Œæ—¶è­¦å‘Šï¼Œéè‡´å‘½é”™è¯¯</li>
<li>E_CORE_WARNING: PHPåˆå§‹åŒ–å¯åŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿçš„è­¦å‘Šï¼Œéè‡´å‘½é”™è¯¯ï¼Œç”±PHPå¼•æ“æ ¸å¿ƒäº§ç”Ÿ</li>
<li>E_COMPILE_WARNING: ç¼–è¯‘æ—¶è­¦å‘Šï¼Œéè‡´å‘½é”™è¯¯ï¼Œç”±Zendè„šæœ¬äº§ç”Ÿ</li>
<li>E_USER_WARNING: ç”¨æˆ·äº§ç”Ÿçš„è­¦å‘Šä¿¡æ¯ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨å‡½æ•°trigger_error()äº§ç”Ÿï¼ˆé”™è¯¯ç±»å‹è®¾ç½®ä¸ºE_USER_WARNINGï¼‰</li>
</ul></li>
<li><p>Notice Error  é€šçŸ¥é”™è¯¯ï¼Œè„šæœ¬ä¸ç»ˆæ­¢è¿è¡Œ</p>
<ul>
<li>E_NOTICE: è¿è¡Œæ—¶é€šçŸ¥ï¼Œè¡¨ç¤ºè„šæœ¬é‡åˆ°å¯èƒ½ä¼šè¡¨ç°ä¸ºé”™è¯¯çš„æƒ…å†µï¼Œä½†æ˜¯åœ¨å¯ä»¥æ­£å¸¸è¿è¡Œçš„è„šæœ¬é‡Œé¢ä¹Ÿå¯èƒ½ä¼šæœ‰ç±»ä¼¼çš„é€šçŸ¥</li>
<li>E_USER_NOTICE: ç”¨æˆ·äº§ç”Ÿçš„é€šçŸ¥ä¿¡æ¯ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨å‡½æ•°trigger_error()äº§ç”Ÿï¼ˆé”™è¯¯ç±»å‹è®¾ç½®ä¸ºE_USER_NOTICEï¼‰</li>
</ul>
<p>å¦å¤–ï¼š</p>
<ul>
<li>E_ALL: é™¤E_ALLå¤–çš„æ‰€æœ‰çš„é”™è¯¯ã€è­¦å‘Šå’Œæ³¨æ„</li>
<li>E_STRICT: å…³äºPHPç‰ˆæœ¬ç§»æ¤çš„å…¼å®¹æ€§å’Œäº’æ“ä½œæ€§å»ºè®®</li>
</ul></li>
</ul>

<h3 id="toc_2">å¼‚å¸¸EXCEPTION</h3>

<p>å¼‚å¸¸ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´å‡ºç°çš„ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µï¼Œå…è®¸å‘ç”Ÿä½†ä¸æ­£å¸¸çš„æƒ…å†µã€‚å±äºä¸šåŠ¡é€»è¾‘çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯­æ³•æˆ–ç¼–è¯‘çš„é”™è¯¯ã€‚</p>

<h3 id="toc_3">æ•è·é”™è¯¯å’Œå¼‚å¸¸</h3>

<p>åœ¨PHPä¸­ï¼Œç”¨äºæ•è·å¼‚å¸¸å’Œé”™è¯¯çš„å‡ ä¸ªé‡è¦å‡½æ•°ï¼š<strong>error_reporting</strong>ã€<strong>set_error_handler</strong>ã€<strong>register_shutdown_function</strong>ã€<strong>error_get_last</strong>ã€<strong>set_exception_handler</strong>ã€‚</p>

<h4 id="toc_4">error_reportingå‡½æ•°</h4>

<p>è®¾ç½®æŠ¥å‘Šå“ªäº›é”™è¯¯</p>

<pre><code class="language-php">int error_reporting([int $err_type])

/**
 * int $err_type å¯é€‰å‚æ•°ï¼Œéœ€è¦è®¾ç½®é”™è¯¯ç­‰çº§
 * è¿”å›å€¼ï¼šint è¿”å›æ—§çš„é”™è¯¯çº§åˆ«
 */
</code></pre>

<p>ç”¨ä¾‹ï¼š</p>

<pre><code class="language-php">error_report(E_ALL | E_STRICT);
</code></pre>

<h4 id="toc_5">set_error_handlerå‡½æ•°</h4>

<p>æ•è·é”™è¯¯ï¼Œå¹¶æ‰§è¡Œç”¨æˆ·è‡ªå®šä¹‰çš„é”™è¯¯å¤„ç†å‡½æ•°ã€‚</p>

<pre><code class="language-php">mixed set_error_handler(callable $error_handler 
    [, int $error_types = E_ALL | E_STRICT])
/**
 * callable $error_handler
 *     å›è°ƒå‡½æ•°ï¼Œéœ€è¦å£°æ˜å››ä¸ªå‚æ•°ï¼šé”™è¯¯ç±»å‹ã€é”™è¯¯ä¿¡æ¯ã€é”™è¯¯æ‰€åœ¨æ–‡ä»¶ã€é”™è¯¯æ‰€åœ¨è¡Œã€‚
 *     ç¬¬äº”ä¸ªå‚æ•°å¯é€‰ï¼ŒæŒ‡å‘é”™è¯¯å‘ç”Ÿæ—¶æ´»åŠ¨ç¬¦å·è¡¨çš„arrayï¼Œä½†åœ¨PHP 7.2.0è¢«åºŸï¼‰
 *     
 * int $error_types
 *     å¯é€‰ï¼Œè§„å®šåœ¨å“ªä¸ªé”™è¯¯æŠ¥å‘Šçº§åˆ«æ˜¾ç¤ºç”¨æˆ·å®šä¹‰çš„é”™è¯¯
 */
</code></pre>

<p>æ³¨æ„äº‹é¡¹ï¼š</p>

<blockquote>
<ol>
<li>å¦‚æœå­˜åœ¨è¯¥æ–¹æ³•ï¼Œç›¸åº”çš„error_reporting()å°±ä¸èƒ½å†ä½¿ç”¨ï¼Œæ‰€æœ‰é”™è¯¯éƒ½ä¼šäº¤ç»™è‡ªå®šä¹‰å‡½æ•°å¤„ç†ï¼›</li>
<li>æ­¤å‡½æ•°åªèƒ½æ•è·ç³»ç»Ÿäº§ç”Ÿçš„ä¸€äº›Warningã€Noticeçº§åˆ«çš„é”™è¯¯ï¼Œä¸èƒ½æ•è·ï¼šE_ERRORã€E_PARSEã€E_CORE_ERRORã€E_CORE_WARNINGã€E_COMPILE_WARNINGä»¥åŠset_error_handler()å‡½æ•°æ‰€åœ¨æ–‡ä»¶ä¸­äº§ç”Ÿçš„E_STRICTã€‚</li>
</ol>
</blockquote>

<p>ç”¨ä¾‹ï¼š</p>

<pre><code class="language-php">&lt;?php
    set_error_handler(&#39;error_handler&#39;);
    function error_handler($err_type, $err_msg, $err_file, $err_line)
    {
        var_dump($err_type);
        var_dump($err_msg);
        var_dump($err_file);
        var_dump($err_line);
    }
    
    // æˆ–è€…
    
    set_error_handler(array(&#39;class_name&#39;, &#39;function_name&#39;));
</code></pre>

<h4 id="toc_6">register_shutdown_functionå‡½æ•°</h4>

<p>è¯¥å‡½æ•°æ—¶PHPè„šæœ¬æ‰§è¡Œç»“æŸå‰æœ€åä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°ã€‚é€šè¿‡è¿™ä¸ªå‡½æ•°å°±å¯ä»¥åœ¨è„šæœ¬ç»“æŸå‰åˆ¤æ–­æ˜¯å¦äº§ç”Ÿé”™è¯¯ã€‚è¿™æ˜¯éœ€è¦ä½¿ç”¨åˆ°<strong>error_get_last</strong>å‡½æ•°ï¼Œè·å–æœ¬æ¬¡æ‰§è¡Œäº§ç”Ÿçš„æ‰€æœ‰é”™è¯¯ã€‚<strong>register_shutdown_functionå¯ä»¥é…åˆset_error_handleræ•è·æ‰€æœ‰é”™è¯¯</strong></p>

<pre><code class="language-php">void register_shutdown_function(callable $callback
    [, mixed $parameter
    [, mixed $...]])
/**
 * callable $callback å›è°ƒå‡½æ•°
 * mixed $parameter ä¼ é€’ç»™å›è°ƒçš„å‚æ•°
 * ... æ›´å¤šå›è°ƒ
 */
</code></pre>

<p>æ³¨æ„äº‹é¡¹ï¼š</p>

<blockquote>
<ol>
<li>è¯¥å‡½æ•°å¯ä»¥æ•è·çš„é”™è¯¯ï¼šFatal Errorã€Parse Errorç­‰</li>
<li>register_shutdown_functionæ‰€åœ¨çš„æ–‡ä»¶å‘ç”Ÿè¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è§¦å‘å›è°ƒå‡½æ•°ï¼ˆç”¨ä¾‹ä¹‹åä¼šè¯´åˆ°ï¼‰</li>
</ol>
</blockquote>

<p>ç”¨ä¾‹ï¼š</p>

<pre><code class="language-php">&lt;?php
    register_shutdown_function(&#39;shutdown_handler&#39;);
    function shutdown_handler()
    {
        if ($err = error_get_last()) {
            var_dump($err);
        }
    }
</code></pre>

<p>ä½†æ˜¯ï¼Œå¦‚æœæ‰§è¡Œä¸‹åˆ—æµ‹è¯•æ–‡ä»¶ï¼Œæ˜¯ä¸èƒ½è§¦å‘è°ƒç”¨å›è°ƒå‡½æ•°ï¼š</p>

<pre><code class="language-php">&lt;?php
    register_shutdown_function(&#39;shutdown_handler&#39;);
    function shutdown_handler()
    {
        if ($err = error_get_last()) {
            var_dump($err);
        }
    }
    echo 1++;
</code></pre>

<p>ä¸ºä»€ä¹ˆä¸èƒ½è§¦å‘å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼š</p>

<blockquote>
<p>å¦‚æœregister_shutdown_functionæ‰€åœ¨æ–‡ä»¶å‘ç”Ÿè¯­æ³•é”™è¯¯ï¼Œè¯¥è„šæœ¬ä¸èƒ½é€šè¿‡PHPçš„è¯­æ³•åˆ†æï¼Œregister_shutdown_functionå‡½æ•°å°±ä¸ä¼šè¢«æ‰§è¡Œï¼Œä¹Ÿå°±æ²¡æœ‰æ³¨å†Œå›è°ƒå‡½æ•°ã€‚</p>

<p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯register_shutdown_functionæ‰€åœ¨æ–‡ä»¶æ²¡æœ‰è¯­æ³•é”™è¯¯ã€‚</p>
</blockquote>

<p>å°†ä¸Šè¿°ä»£ç ä¿®æ”¹ä¸ºï¼š</p>

<pre><code class="language-php">&lt;?php
    register_shutdown_function(&#39;shutdown_handler&#39;);
    function shutdown_handler()
    {
        if ($err = error_get_last()) {
            var_dump($err);
        }
    }
    require &#39;a.php&#39;;
    
// a.phpæ–‡ä»¶
&lt;?php
    echo 1++;
</code></pre>

<p>ä¿®æ”¹ä¹‹åï¼Œå› ä¸ºregister_shutdown_functionæ‰€åœ¨æ–‡ä»¶æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œé€šè¿‡äº†PHPçš„è¯­æ³•åˆ†æï¼Œæ‰€ä»¥register_shutdown_functionå‡½æ•°å¾—ä»¥æ­£å¸¸è¿è¡Œï¼Œä¾¿èƒ½æ³¨å†Œå›è°ƒå‡½æ•°äº†ã€‚    </p>

<p><strong>å› æ­¤ï¼Œæœ€å¥½å°†register_shutdown_functionå•ç‹¬æ”¾åœ¨ä¸€ä¸ªçš„æ–‡ä»¶ä¸­ï¼Œå¹¶ä¿è¯è¯¥æ–‡ä»¶æ²¡æœ‰è¯­æ³•é”™è¯¯ã€‚</strong></p>

<h4 id="toc_7">error_get_lastå‡½æ•°</h4>

<p>è¯¥å‡½æ•°ç”¨äºè·å–æœ¬æ¬¡æ‰§è¡Œä¸­äº§ç”Ÿçš„é”™è¯¯ä¿¡æ¯ã€‚</p>

<pre><code class="language-php">array error_get_last()
/**
 * è¿”å›å€¼ï¼šarray 
 * type =&gt;ã€€é”™è¯¯ç±»å‹
 * message =&gt; é”™è¯¯ä¿¡æ¯
 * file =&gt; å‘ç”Ÿé”™è¯¯çš„æ–‡ä»¶
 * line =&gt; å‘ç”Ÿé”™è¯¯çš„è¡Œå·
 */
</code></pre>

<h4 id="toc_8">set_exception_handlerå‡½æ•°</h4>

<p>è®¾ç½®å¼‚å¸¸å¤„ç†å‡½æ•°ï¼Œå¦‚æœå¼‚å¸¸æ²¡è¢«æ•è·å°±ä¼šè¿›åˆ°è¯¥æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”åœ¨å›è°ƒå‡½æ•°è°ƒç”¨åå¼‚å¸¸ä¼šä¸­æ­¢ã€‚</p>

<pre><code class="language-php">callable set_exception_handler(callable $exception_handler)

/**
 * callable $exception_handler å›è°ƒå‡½æ•°ï¼Œéœ€è¦æ¥å—ä¸€ä¸ªå‚æ•°ï¼šæ•è·çš„å¼‚å¸¸å¯¹è±¡
 * è¿”å›å€¼ï¼š callable è¿”å›å®šä¹‰çš„å›è°ƒå‡½æ•°çš„åç§°
 */
</code></pre>

<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šset_error_handlerã€register_shutdown_functionã€set_exception_handlerä¸‰ä¸ªå‡½æ•°æ•è·é”™è¯¯çš„èŒƒå›´å¹¶ä¸æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œå¯èƒ½å­˜åœ¨ä¸€å®šçš„äº¤é›†ï¼Œä½†é”™è¯¯åªä¼šè¢«æ•è·ä¸€æ¬¡ï¼Œä¸ä¼šé‡å¤è¢«æ•è·</strong></p>

<h2 id="toc_9">äºŒã€æ—¥æœŸä¸æ—¶é—´</h2>

<ul>
<li>mktime: è·å–æ—¶é—´æˆ³ï¼Œå‚æ•°ä¾æ¬¡ä¸ºæ—¶ã€åˆ†ã€ç§’ã€æœˆã€æ—¥ã€å¹´ï¼Œçš†å¯é€‰</li>
<li>strtotime: å°†è‡ªç„¶è¯­è¨€è‹±è¯­è½¬æ¢ä¸ºæ—¶é—´æˆ³</li>
<li>gettimeofday: è·å–æŸä¸€å¤©ä¸­çš„å…·ä½“æ—¶é—´</li>
<li>getdate: è·å–ä¸€ä¸ªç”±æ—¶é—´æˆ³ç»„æˆçš„å…³è”æ•°ç»„ï¼Œå¯é€‰å‚æ•°ï¼šä¸€ä¸ªæ—¶é—´æˆ³</li>
<li>date: ä»¥æŒ‡å®šæ ¼å¼è¿”å›æ—¶é—´å­—ç¬¦ä¸²ï¼Œå‚æ•°ï¼šæŒ‡å®šæ ¼å¼ï¼Œå¯é€‰å‚æ•°ä¸ºæ—¶é—´æˆ³</li>
<li>date_default_timezone_set: è®¾ç½®é»˜è®¤æ—¶åŒºï¼ŒRPCã€Asia/Shanghaiã€Asia/Chongqingã€Etc/GMT-8</li>
<li>microtime: è·å–å½“å‰å¾®ç§’çº§æ—¶é—´æˆ³ï¼Œå¯é€‰å‚æ•°ï¼šæ˜¯å¦ä»¥æµ®ç‚¹æ•°å½¢å¼è¿”å›</li>
</ul>

<h2 id="toc_10">ä¸‰ã€æ–‡ä»¶ä¸ç›®å½•</h2>

<h3 id="toc_11">ç±»å‹</h3>

<pre><code class="language-php">// è·å–æ–‡ä»¶ç±»å‹
filetype(string $file) : string | false
</code></pre>

<p>Windowsä¸­PHPåªèƒ½è·å–åˆ°3ç§æ–‡ä»¶ç±»å‹ï¼šfileã€dirã€unknownï¼Œè€Œåœ¨UNIXä¸­ï¼Œå¯ä»¥è·å–7ç§blockã€charã€dirã€fifoã€fileã€linkã€unknownã€‚</p>

<ul>
<li>blockï¼šå—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚ï¼šç¡¬ç›˜åˆ†åŒºã€è½¯é©±ã€å…‰é©±ç­‰</li>
<li>charï¼šå­—ç¬¦è®¾å¤‡ï¼ŒæŒ‡I/Oä¼ è¾“ä¸­ä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œä¼ è¾“çš„è®¾å¤‡ï¼Œå¦‚é”®ç›˜ã€æ‰“å°æœºç­‰</li>
<li>dirï¼šç›®å½•ç±»å‹ï¼Œç›®å½•ä¹Ÿæ˜¯æ–‡ä»¶çš„ä¸€ç§</li>
<li>fifoï¼šå‘½åç®¡é“ï¼Œå¸¸ç”¨äºå°†ä¿¡æ¯ä»ä¸€ä¸ªè¿›ç¨‹ä¼ é€’åˆ°å¦ä¸€ä¸ªè¿›ç¨‹</li>
<li>fileï¼šæ™®é€šæ–‡ä»¶ç±»å‹</li>
<li>linkï¼šé“¾æ¥ï¼Œè½¯é“¾æ¥ã€ç¡¬é“¾æ¥</li>
<li>unknownï¼šæœªçŸ¥ç±»å‹</li>
</ul>

<h3 id="toc_12">æ–‡ä»¶</h3>

<ul>
<li>is_fileã€is_dirã€is_link...ï¼šåˆ¤æ–­æ˜¯å¦ç»™å®šçš„æ–‡ä»¶ä¸ºæŸä¸€ç±»å‹</li>
<li>file_existsï¼š<strong>æ–‡ä»¶æˆ–ç›®å½•</strong>æ˜¯å¦å­˜åœ¨</li>
<li>filesizeï¼šæ–‡ä»¶å¤§å°</li>
<li>is_readableï¼šæ˜¯å¦å¯è¯»</li>
<li>is_writeableï¼šæ˜¯å¦å¯å†™</li>
<li>is_executableï¼šæ˜¯å¦å¯æ‰§è¡Œ</li>
<li>filectimeï¼šæ–‡ä»¶åˆ›å»ºæ—¶é—´ï¼ˆinodeä¿®æ”¹æ—¶é—´ï¼‰</li>
<li>filemtimeï¼šæ–‡ä»¶ä¿®æ”¹æ—¶é—´</li>
<li>fileatimeï¼šæ–‡ä»¶è®¿é—®æ—¶é—´</li>
<li>statï¼šè·å–æ–‡ä»¶çš„å¤§éƒ¨åˆ†å±æ€§å€¼</li>
<li>unlinkï¼šåˆ é™¤æ–‡ä»¶</li>
<li>copyï¼šå¤åˆ¶æ–‡ä»¶</li>
<li>renameï¼šé‡å‘½å</li>
<li>fopenï¼šæ‰“å¼€æ–‡ä»¶ï¼Œè¿”å›æ–‡ä»¶å¥æŸ„ï¼Œrã€r+ã€wã€w+ã€xã€x+ã€aã€a+ã€bã€t</li>
<li>fcloseï¼šå…³é—­æ‰“å¼€çš„æ–‡ä»¶</li>
<li>fwriteï¼šå¾€æ‰“å¼€çš„æ–‡ä»¶ä¸­å†™</li>
<li>freadï¼šè¯»å–æ‰“å¼€æ–‡ä»¶çš„æŒ‡å®šé•¿åº¦å†…å®¹ï¼Œå‚æ•°1ä¸ºæ–‡ä»¶å¥æŸ„ï¼Œå‚æ•°2ä¸ºè¯»å–çš„é•¿åº¦</li>
<li>file_get_contentï¼šè·å–æ–‡ä»¶å†…å®¹</li>
<li>fgetsï¼šä»æ‰“å¼€çš„æ–‡ä»¶ä¸­è·å–ä¸€è¡Œ</li>
<li>fgetsï¼šä»æ‰“å¼€çš„æ–‡ä»¶ä¸­è·å–ä¸€ä¸ªå­—ç¬¦</li>
<li>readfileï¼šè¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶è¾“å‡ºåˆ°è¾“å‡ºç¼“å†²åŒºï¼Œè¿”å›é•¿åº¦</li>
<li>fileï¼šæŠŠæ–‡ä»¶æŒ‰è¡Œè¯»åˆ°ä¸€ä¸ªæ•°ç»„ä¸­</li>
<li>ftellï¼šè¿”å›æ–‡ä»¶æŒ‡é’ˆçš„å½“å‰ä½ç½®</li>
<li>fseekï¼šç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆåˆ°æŒ‡å®šä½ç½®</li>
<li>rewindï¼šé‡ç½®æ–‡ä»¶æŒ‡é’ˆåˆ°æ–‡ä»¶å¼€å¤´</li>
<li>ftruncateï¼šæŠŠæ–‡ä»¶æˆªå–åˆ°æŒ‡å®šé•¿åº¦</li>
<li>flockï¼šæ–‡ä»¶é”ï¼ŒLOCK_SHå…±äº«é”ã€LOCK_EXæ’ä»–é”ã€LOCK_UNé‡Šæ”¾é”ã€LOCK_NBé™„ä»¶é”ï¼ˆå¦‚æœä¸å¸Œæœ›flockåœ¨é”å®šæ—¶å µå¡ï¼Œåˆ™åº”è¯¥                                                                       åŠ ä¸Šè¯¥é”ï¼‰ï¼Œé”ä¹Ÿå¯è¢«fcloseé‡Šæ”¾</li>
</ul>

<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td>r</td>
<td>åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹è¯»</td>
</tr>
<tr>
<td>r+</td>
<td>è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹è¯»å†™ï¼Œé€ä¸ªè¦†ç›–åŸå†…å®¹</td>
</tr>
<tr>
<td>w</td>
<td>åªå†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹å†™ã€‚è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ é™¤åŸæ–‡ä»¶å†…å®¹ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ›å»º</td>
</tr>
<tr>
<td>w+</td>
<td>è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹è¯»å†™ã€‚è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ é™¤åŸæ–‡ä»¶å†…å®¹ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ›å»º</td>
</tr>
<tr>
<td>x</td>
<td>åˆ›å»ºå¹¶ä»¥å†™å…¥æ–¹å¼æ‰“å¼€ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹å†™ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼ŒæŠ¥å‡ºE_WARNINGçº§åˆ«çš„é”™è¯¯</td>
</tr>
<tr>
<td>x+</td>
<td>åˆ›å»ºå¹¶ä»¥è¯»å†™æ–¹å¼æ‰“å¼€ï¼Œä»æ–‡ä»¶å¼€å¤´å¼€å§‹è¯»å†™ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼ŒæŠ¥å‡ºE_WARNINGçº§åˆ«çš„é”™è¯¯</td>
</tr>
<tr>
<td>a</td>
<td>å†™å…¥æ–¹å¼æ‰“å¼€ï¼Œä»æ–‡ä»¶ç»“å°¾å¼€å§‹å†™ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»º</td>
</tr>
<tr>
<td>a+</td>
<td>è¯»å†™æ–¹å¼æ‰“å¼€ï¼Œä»æ–‡ä»¶ç»“å°¾å¼€å§‹è¯»å†™ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»º</td>
</tr>
<tr>
<td>b</td>
<td>ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td>t</td>
<td>ä»¥æ–‡æœ¬æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œåªåœ¨Windowsä¸‹å¯ç”¨</td>
</tr>
</tbody>
</table>

<h3 id="toc_13">ç›®å½•</h3>

<p>åœ¨UNIXç³»ç»Ÿä¸­ï¼Œå¿…é¡»ä½¿ç”¨&#39;/&#39;ä½œä¸ºæ–‡ä»¶åˆ†éš”ç¬¦ï¼Œè€Œåœ¨Windowsä¸­ï¼Œé»˜è®¤ä½¿ç”¨&#39;\&#39;ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒåŒæ—¶æ”¯æŒä½¿ç”¨&#39;/&#39;ä½œä¸ºåˆ†éš”ç¬¦ã€‚    </p>

<p>åœ¨PHPä¸­å¯ä»¥ä½¿ç”¨DIRECTORY_SEPARATORè·å–å½“å‰ç³»ç»Ÿçš„åˆ†éš”ç¬¦ï¼ˆWindowsä¸º&#39;\&#39;ï¼ŒUNIXä¸º&#39;/&#39;ï¼‰</p>

<ul>
<li>basenameï¼šè·å–æ–‡ä»¶åéƒ¨åˆ†ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šæ‰©å±•åï¼Œå¦‚æœæŒ‡å®šäº†ï¼Œè¿”å›å€¼åˆ™ä¸å¸¦æ‰©å±•å</li>
<li>dirnameï¼šè·å–å»æ‰æ–‡ä»¶åéƒ¨åˆ†åçš„ç›®å½•</li>
<li>pathinfoï¼šè·å–è·¯å¾„çš„ç›®å½•éƒ¨åˆ†dirnameã€å¸¦æ‰©å±•çš„æ–‡ä»¶åbasenameã€æ‰©å±•extensionã€ä¸å¸¦æ‰©å±•çš„æ–‡ä»¶åfilename</li>
<li>dirï¼šè¿”å›Directoryç±»çš„å®ä¾‹</li>
<li>opendirï¼šæ‰“å¼€ç›®å½•ï¼Œè¿”å›ç›®å½•å¥æŸ„</li>
<li>readdirï¼šè¯»å–ç›®å½•</li>
<li>closedirï¼šå…³é—­ç›®å½•</li>
<li>rewinddirï¼šå€’å›ç›®å½•å¥æŸ„ï¼Œå°†ç›®å½•æŒ‡é’ˆé‡ç½®åˆ°å¼€å§‹å¤„</li>
<li>scandirï¼šæµè§ˆç›®å½•å†…å®¹</li>
<li>globï¼šæ£€ç´¢æŒ‡å®šçš„ç›®å½•</li>
<li>mkdirï¼šåˆ›å»ºç›®å½•</li>
<li>rmdirï¼šåˆ é™¤ç›®å½•</li>
</ul>

<h3 id="toc_14">ä¸Šä¼ æ–‡ä»¶</h3>

<p>éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p>

<ul>
<li>formè¡¨å•è®¾ç½®enctype=&quot;multipart/form-data&quot; method=&quot;data&quot;</li>
<li>PHPä½¿ç”¨$_FILESè·å–ä¸Šä¼ æ–‡ä»¶ä¿¡æ¯</li>
<li>å¤šæ–‡ä»¶ä¸Šä¼ ï¼Œå¯æŒ‡å®šname=&quot;file[]&quot;çš„å½¢å¼</li>
</ul>

<p>å¤„ç†ä¸Šä¼ æ–‡ä»¶å¯ä»¥ç”¨åˆ°çš„å‡½æ•°ï¼š</p>

<blockquote>
<p>is_uploaded_fileï¼šåˆ¤æ–­å¤„ç†çš„æ–‡ä»¶æ˜¯å¦æ˜¯é€šè¿‡HTTP POSTä¸Šä¼ çš„ã€‚ä½†å‚æ•°å¿…é¡»æ˜¯ç±»ä¼¼$_POST[&#39;file&#39;][&#39;tmp_name&#39;]çš„å˜é‡ã€‚</p>

<p>move_uploaded_fileï¼šå°†ä¸Šä¼ ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œä¸”è¯¥å‡½æ•°ä¼šåˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºåˆæ³•çš„é€šè¿‡HTTP POSTä¸Šä¼ çš„æ–‡ä»¶ã€‚</p>
</blockquote>

<h3 id="toc_15">ä¸‹è½½æ–‡ä»¶</h3>

<p>è®¾ç½®ç½‘é¡µå¤´éƒ¨ä¿¡æ¯ï¼Œä»¥ä¿è¯æµè§ˆå™¨æ˜¯ä¸‹è½½æ–‡ä»¶è€Œä¸æ˜¯ç›´æ¥è¾“å‡ºï¼š</p>

<pre><code class="language-php">header(&#39;Content-Type: image/gif&#39;);
header(&#39;Content-Disposition: attachment; filename=&quot;test.gif&quot;&#39;); // è¯´æ˜æ˜¯é™„ä»¶
header(&#39;Content-Length: 3390&#39;);

readfile(&#39;test.gif&#39;);
</code></pre>

<h2 id="toc_16">å›¾åƒç»˜åˆ¶</h2>

<h3 id="toc_17">åˆ›å»ºç”»å¸ƒ</h3>

<pre><code class="language-php">resource imagecreate($x_size, $y_size)          // åŸºäºè°ƒè‰²æ¿
resource imagecreatetruecolor($x_size, $y_size) // çœŸå½©
</code></pre>

<h3 id="toc_18">è®¾ç½®é¢œè‰²</h3>

<pre><code class="language-php">int imagecolorallocate(resource $image, int $r, int $g, int $b)
</code></pre>

<h3 id="toc_19">ç»˜åˆ¶</h3>

<p>å›¾å½¢åŒºåŸŸå¡«å……</p>

<pre><code class="language-php">bool imagefill(resource $image, int $x, int $y, int $color)
</code></pre>

<p>ç»˜åˆ¶ç‚¹å’Œçº¿</p>

<pre><code class="language-php">bool imagesetpixel(resource $image, int $x, int $y, int $color)
bool imageline(resource $image, int $x1, int $y1, int $x2, int $y2, int $color)
</code></pre>

<p>ç»˜åˆ¶çŸ©é˜µ</p>

<pre><code class="language-php">// ç”»ä¸€ä¸ªçŸ©é˜µ
bool imagerectangle(resource $image, int $x1, int $y1, int $x2, int $y2, int $color)
// ç”»ä¸€ä¸ªçŸ©é˜µå¹¶å¡«å……
bool imagefilledrectangle(resource $image, int $x1, int $y1, int $x2, int $y2, int $color)
</code></pre>

<p>ç»˜åˆ¶å¤šè¾¹å½¢</p>

<pre><code class="language-php">bool imagepolygon(resource $image, array $point, int $num_points, int $color)
bool imagefilledpolygon(resource $image, array $point, int $num_points, int $color)
</code></pre>

<p>ç»˜åˆ¶æ¤­åœ†</p>

<pre><code class="language-php">bool imageellipse(resource $image, int $cx, int $cy, int $w, int $h, int $color)
bool imagefilledellipse(resource $image, int $cx, int $cy, int $w, int $h, int $color)
// ($cx, $cy) ä¸­å¿ƒåæ ‡
// $w, $h å®½ã€é«˜
</code></pre>

<p>ç»˜åˆ¶å¼§çº¿</p>

<pre><code class="language-php">bool imagearc(int $cx, int $cy, int $w, int $h, int $s, int $e, int $color)
</code></pre>

<p>ç»˜åˆ¶æ–‡å­—</p>

<pre><code class="language-php">bool imagestring(resource $image, int $font, int $x, int $y, string $s, int $color) // æ°´å¹³
bool imagestringup(resource $image, int $font, int $x, int $y, string $s, int $color) // å‚ç›´
bool imagechar(resource $image, int $font, int $x, int $y, char $c, int $color)
bool imagecharup(resource $image, int $font, int $x, int $y, char $c, int $color)
// ä»¥ttfå­—ä½“ç»˜åˆ¶æ–‡æœ¬
array imagettftext(resource $image, float $size, float $angle, int $x, int $y, int $color, string $fontfile, string $text)
</code></pre>

<h3 id="toc_20">ç”Ÿæˆå›¾åƒ</h3>

<pre><code class="language-php">bool imagegif(resource $image [, string $filename])
bool imagejpeg(resource $image [, string $filename [, int $quality]])
bool imagepng(resource $image [, string $filename])
bool imagewbmp(resource $image [, string $filename [, int $foreground]])
</code></pre>

<h3 id="toc_21">é”€æ¯å›¾åƒ</h3>

<pre><code class="language-php">bool imagedestory(resource $img)
</code></pre>

<h2 id="toc_22">å›¾åƒå¤„ç†</h2>

<p>ä»¥å›¾ç‰‡ä¸ºèƒŒæ™¯åˆ›å»ºå›¾åƒ</p>

<pre><code class="language-php">resource imagecreatefromjpeg(string $file)
resource imagecreatefrompng(string $file)
resource imagecreatefromgif(string $file)
</code></pre>

<p>è·å–å›¾ç‰‡å¤§å°å’Œç±»å‹</p>

<pre><code class="language-php">array getimagesize(string $file [, array &amp;$imageinfo])
</code></pre>

<p>å›¾ç‰‡ç¼©æ”¾ã€å‰ªåˆ‡</p>

<pre><code class="language-php">bool imagecopyresampled (resource $dst_img, resource $src_img, int $dst_x, int $dst_y, int $src_x, int $src_y, int $dst_w, int $dst_h, int $src_w, int $src_h)
// è¯¥å‡½æ•°å¯ä»¥å°†å›¾åƒä¸­çš„ä¸€å—æ­£æ–¹å½¢åŒºåŸŸå¤åˆ¶åˆ°å¦ä¸€ä¸ªå›¾åƒä¸­
</code></pre>

<p>æ·»åŠ æ°´å°</p>

<pre><code class="language-php">bool imagecopy(resource $des_img, resource $src_img, int $dst_x, int $dst_y, int $src_x, int $src_y, int $src_w, int $src_h)
// å°†æºå›¾åƒçš„(src_x, src,y)çš„å®½src_wï¼Œé«˜src_hçš„ä¸€éƒ¨åˆ†å¤åˆ¶åˆ°ç›®æ ‡å›¾åƒçš„(dst_x, dst_y)å¤„
</code></pre>

<p>å›¾ç‰‡æ—‹è½¬ã€ç¿»è½¬</p>

<pre><code class="language-php">resource imagerotate(resource $src_img, float $angle, int $bg_color [, int $ignore_transport])
// å›¾ç‰‡æ—‹è½¬angleè§’åº¦ï¼Œæ—‹è½¬åæœªè¦†ç›–åˆ°çš„éƒ¨åˆ†ä½¿ç”¨bg_colorå¡«å……ï¼Œigno_transportä¸ºéé›¶å€¼ï¼Œåˆ™é€æ˜è‰²è¢«å¿½ç•¥ã€‚
</code></pre>

<h2 id="toc_23">PDO</h2>

<h3 id="toc_24">PDOé©±åŠ¨</h3>

<table>
<thead>
<tr>
<th>PDOé©±åŠ¨</th>
<th>å¯¹åº”è®¿é—®çš„æ•°æ®åº“</th>
</tr>
</thead>

<tbody>
<tr>
<td>PDO_BDLIB</td>
<td>FreeTDS/Microsoft SQL Server/Sybase</td>
</tr>
<tr>
<td>PDO_FIREBIRD</td>
<td>Firbird/Interbase 6</td>
</tr>
<tr>
<td>PDO_MYSQL</td>
<td>MySQL 3.x/4.x/5.x</td>
</tr>
<tr>
<td>PDO_OCI</td>
<td>Oracle (OCI=Oracle Call Interface)</td>
</tr>
<tr>
<td>PDO_ODBC</td>
<td>ODBC v3</td>
</tr>
<tr>
<td>PDO_PGSQL</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td>PDO_SQLITE</td>
<td>SQLite 2.x/3.x</td>
</tr>
</tbody>
</table>

<h3 id="toc_25">PDOç±»çš„æ–¹æ³•</h3>

<h4 id="toc_26">æ„é€ æ–¹æ³•</h4>

<pre><code class="language-php">__construct(string $dsn [, string $username [, string $pwd [, array $driver_options]]])
// dsnï¼šData Source Nameï¼Œæ•°æ®æºåï¼Œå¦‚ï¼š
// mysql:dbname=test;host=127.0.0.1;port=3306;charset=utf8
// DSNä¹Ÿå¯æŒ‡å®šæ–‡ä»¶ä¸ºå‚æ•°ï¼ˆå¦‚æœè¯¥æ–‡ä»¶ä¸­å­˜æ”¾ç€DSNå­—ç¬¦ä¸²ï¼‰ï¼Œå¦‚ï¼š
// uri:file:///user/local/dbconnect
</code></pre>

<h4 id="toc_27">Attribute</h4>

<pre><code class="language-php">// è·å–æˆ–è®¾ç½®ä¸€ä¸ªæ•°æ®åº“è¿æ¥å¯¹è±¡çš„å±æ€§
getAttribute() // å‚æ•°ï¼šå±æ€§å
setAttribute() // å‚æ•°ï¼šå±æ€§åï¼Œå±æ€§å€¼
</code></pre>

<p>PDOçš„ä¸€äº›å±æ€§</p>

<table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td>PDO::ATTR_AUTOCOMMIT</td>
<td>ç¡®å®šPDOæ˜¯å¦å…³é—­è‡ªåŠ¨æäº¤åŠŸèƒ½ï¼Œè®¾ç½®FALSEå€¼æ—¶å…³é—­</td>
</tr>
<tr>
<td>PDO::ATTR_CASE</td>
<td>å¼ºåˆ¶PDOè·å–çš„è¡¨å­—æ®µå­—ç¬¦å¤§å°å†™è½¬æ¢ï¼Œæˆ–åŸæ ·ä½¿ç”¨åˆ—ä¿¡æ¯</td>
</tr>
<tr>
<td>PDO::ATTR_ERRMODE</td>
<td>è®¾ç½®é”™è¯¯å¤„ç†æ¨¡å¼ï¼ŒPDO::ERRMODE_SILENT, PDO::ERRMODE_WARNING, PDO::ERRMODE_EXCEPTION</td>
</tr>
<tr>
<td>PDO::ATTR_PERSISTENT</td>
<td>ç¡®å®šè¿æ¥æ˜¯å¦ä¸ºæŒä¹…è¿æ¥ï¼Œé»˜è®¤ä¸ºFALSE</td>
</tr>
<tr>
<td>PDO::ATTR_ORACLE_NULLS</td>
<td>å°†è¿”å›çš„ç©ºå­—ç¬¦ä¸²è½¬æ¢ä¸ºSQLçš„NULL</td>
</tr>
<tr>
<td>PDO::ATTR_PREFETCH</td>
<td>è®¾ç½®åº”ç”¨ç¨‹åºæå‰è·å–çš„æ•°æ®å¤§å°(å•ä½ï¼šK)</td>
</tr>
<tr>
<td>PDO::ATTR_TIMEOUT</td>
<td>è®¾ç½®è¶…æ—¶ä¹‹å‰ç­‰å¾…çš„æ—¶é—´(å•ä½ï¼šs)</td>
</tr>
<tr>
<td>PDO::ATTR_SERVER_INFO</td>
<td>åŒ…å«ä¸æ•°æ®åº“ç‰¹æœ‰çš„æœåŠ¡å™¨ä¿¡æ¯</td>
</tr>
<tr>
<td>PDO::ATTR_SERVER_VERSION</td>
<td>åŒ…å«ä¸æ•°æ®åº“æœåŠ¡å™¨ç‰ˆæœ¬å·æœ‰å…³çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>PDO::ATTR_CLIENT_VERSION</td>
<td>åŒ…å«ä¸æ•°æ®åº“å®¢æˆ·ç«¯ç‰ˆæœ¬å·æœ‰å…³çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>PDO::ATTR_CONNECTION_STATUS</td>
<td>åŒ…å«æ•°æ®åº“ç‰¹æœ‰çš„ä¸è¿æ¥çŠ¶æ€æœ‰å…³çš„ä¿¡æ¯</td>
</tr>
</tbody>
</table>

<h4 id="toc_28">é”™è¯¯</h4>

<pre><code class="language-php">// è·å–æœ€åä¸€æ¬¡æ•°æ®åº“æ“ä½œçš„é”™è¯¯ç 
errorCode()
// è·å–æœ€åä¸€æ¬¡æ•°æ®åº“æ“ä½œçš„é”™è¯¯ä¿¡æ¯
errorInfo()
</code></pre>

<h4 id="toc_29">SQL</h4>

<pre><code class="language-php">exec() // æ‰§è¡Œä¸€æ¡SQLè¯­å¥ï¼Œå¹¶è¿”å›å—å½±å“çš„è¡Œæ•°
query() // æ‰§è¡Œä¸€æ¡SQLè¯­å¥ï¼Œå¹¶è¿”å›PDOStatementå¯¹è±¡ï¼ˆç»“æœé›†ï¼‰
quote() // ä¸ºSQLè¯­å¥ä¸­çš„å­—ç¬¦ä¸²æ·»åŠ å¼•å·
lastInsertId() // è·å–æ’å…¥åˆ°è¡¨ä¸­çš„æœ€åä¸€æ¡æ•°æ®çš„ä¸»é”®å€¼
prepare() // å‡†å¤‡è¦æ‰§è¡Œçš„SQLè¯­å¥ï¼Œè¿”å›PDOStatementå¯¹è±¡
getAvailableDrivers() // è·å–æœ‰æ•ˆçš„PDOé©±åŠ¨å™¨åç§°
beginTransaction() // å¼€å§‹äº‹åŠ¡
commit() //æäº¤äº‹åŠ¡
rollback() // å›æ»šäº‹åŠ¡
</code></pre>

<h3 id="toc_30">é¢„å¤„ç†è¯­å¥å’ŒPDOStatementç±»</h3>

<p>é€šè¿‡PDOçš„prepareæ–¹æ³•ä¼ å…¥ä¸€æ¡é¢„å¤„ç†è¯­å¥ï¼Œè¿”å›ä¸€ä¸ªPDOStatementæŸ¥è¯¢å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å¯¹è±¡ä¼ å…¥å‚æ•°ï¼Œæ‰§è¡Œè¯­å¥ã€‚    </p>

<table>
<thead>
<tr>
<th>PDOStatementç±»çš„æˆå‘˜æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td>bindColumn()</td>
<td>å°†åˆ—åç»‘å®šåˆ°ä¸€ä¸ªPHPå˜é‡ï¼Œè¿™æ ·è·å–åˆ°è®°å½•åï¼Œä¼šå°†ç›¸åº”çš„åˆ—å€¼èµ‹ç»™è¯¥å˜é‡</td>
</tr>
<tr>
<td>bindParam()</td>
<td>å°†å‚æ•°ç»‘å®šåˆ°ç›¸åº”çš„å ä½ç¬¦</td>
</tr>
<tr>
<td>bindValue()</td>
<td>å°†ä¸€ä¸ªå€¼ç»‘å®šåˆ°å¯¹åº”çš„ä¸€ä¸ªå‚æ•°ä¸­</td>
</tr>
<tr>
<td>closeCursor()</td>
<td>å…³é—­æ¸¸æ ‡ï¼Œä½¿è¯¥å£°æ˜å†æ¬¡è¢«æ‰§è¡Œ</td>
</tr>
<tr>
<td>columnCount()</td>
<td>åœ¨ç»“æœé›†ä¸­è¿”å›åˆ—çš„æ•°ç›®</td>
</tr>
<tr>
<td>errorCode()</td>
<td>è·å–é”™è¯¯ç </td>
</tr>
<tr>
<td>errorInfo()</td>
<td>è·å–é”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td>execute()</td>
<td>æ‰§è¡Œä¸€ä¸ªé¢„å¤„ç†æŸ¥è¯¢</td>
</tr>
<tr>
<td>fetch()</td>
<td>è·å–ç»“æœé›†çš„ä¸‹ä¸€è¡Œï¼Œåˆ°ç»“å°¾è¿”å›false</td>
</tr>
<tr>
<td>fetchAll()</td>
<td>è·å–ç»“æœé›†çš„æ‰€æœ‰è¡Œ</td>
</tr>
<tr>
<td>fetchColumn()</td>
<td>è·å–æŸä¸€åˆ—çš„ä¸‹ä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td>fetchObject()</td>
<td>è·å–ç»“æœé›†çš„ä¸‹ä¸€è¡Œï¼Œä½œä¸ºå¯¹è±¡è¿”å›</td>
</tr>
<tr>
<td>getAttribute()</td>
<td>è·å–å±æ€§</td>
</tr>
<tr>
<td>setAttribute()</td>
<td>è®¾ç½®å±æ€§</td>
</tr>
<tr>
<td>nextRowset()</td>
<td>è·å–ä¸‹ä¸€è¡Œç»“æœé›†</td>
</tr>
<tr>
<td>rowCount()</td>
<td>è·å–ç»“æœé›†çš„è¡Œæ•°</td>
</tr>
<tr>
<td>getColumnMeta()</td>
<td>è·å–æŸä¸€åˆ—çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>setFetchMode()</td>
<td>è®¾ç½®è·å–ç»“æœé›†çš„ç±»å‹</td>
</tr>
</tbody>
</table>

<h2 id="toc_31">MemCached</h2>

<h3 id="toc_32">MemCachedå‘½ä»¤</h3>

<blockquote>
<p>stats: å½“å‰æ‰€æœ‰memcachedæœåŠ¡å™¨è¿è¡Œçš„çŠ¶æ€ä¿¡æ¯<br/>
add: æ·»åŠ ä¸€ä¸ªæ•°æ®åˆ°æœåŠ¡å™¨<br/>
set: æ›¿æ¢ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™ä¸addå‘½ä»¤ç›¸åŒ<br/>
get: ä»æœåŠ¡å™¨ç«¯è·å–æŒ‡å®šçš„æ•°æ®<br/>
delete: åˆ é™¤æŒ‡å®šçš„å•ä¸ªæ•°æ®<br/>
flush_all: åˆ é™¤æ‰€æœ‰æ•°æ®</p>
</blockquote>

<h3 id="toc_33">åœ¨PHPä¸­ä½¿ç”¨MemCached</h3>

<p>éœ€è¦å®‰è£…memcachedæ‰©å±•åŒ…</p>

<pre><code class="language-php">Memcached::connect  // æ‰“å¼€ä¸€ä¸ªåˆ°memcachedçš„è¿æ¥
Memcached::pconnect  // æ‰“å¼€ä¸€ä¸ªåˆ°memcachedçš„é•¿è¿æ¥
Memcached::addServer  // åˆ†å¸ƒå¼æœåŠ¡å™¨æ·»åŠ ä¸€ä¸ªæœåŠ¡å™¨
Memcached::close  // å…³é—­ä¸€ä¸ªmemcachedçš„è¿æ¥
Memcached::getStats // è·å–å½“å‰memcachedæœåŠ¡å™¨çš„çŠ¶æ€
Memcached::add  // æ·»åŠ ä¸€ä¸ªå€¼ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å›false
Memcached::set  // æ·»åŠ ä¸€ä¸ªå€¼ï¼Œè‹¥å­˜åœ¨ï¼Œè¦†ç›–
Memcached::replace  // æ›¿æ¢ä¸€ä¸ªå€¼ï¼Œç±»ä¼¼äºset                               
Memcached::get  // è·å–ä¸€ä¸ªæ•°æ®                
Memcached::delete  // åˆ é™¤ä¸€ä¸ªæ•°æ®
Memcached::flush   // æ¸…ç©ºæ‰€æœ‰æ•°æ®
</code></pre>

<h2 id="toc_34">æ¡†æ¶</h2>

<p>ä¸€ä¸ªæ¡†æ¶éœ€è¦çš„åŠŸèƒ½ï¼š</p>

<ul>
<li>ç›®å½•ç»„ç»‡ç»“æ„</li>
<li>ç±»åŠ è½½</li>
<li>åŸºç¡€ç±»</li>
<li>URLå¤„ç†</li>
<li>è¾“å…¥å¤„ç†</li>
<li>é”™è¯¯å¼‚å¸¸å¤„ç†</li>
<li>æ‰©å±•ç±»</li>
</ul>

<h2 id="toc_35">PHPå®‰å…¨å’Œä¼˜åŒ–</h2>

<ul>
<li>ä¸ä¿¡ä»»ç”¨æˆ·è¾“å…¥ã€éªŒè¯ç”¨æˆ·æ•°æ®</li>
<li>åŠæ—¶ä¿®è¡¥æ¼æ´</li>
<li>éšè—Apacheå’ŒPHPï¼ˆApacheçš„ServerSignatureã€ServerTokenæŒ‡ä»¤ã€PHPçš„expose_php()å‡½æ•°ï¼‰</li>
<li>åˆ é™¤phpinfo()è°ƒç”¨çš„æ‰€æœ‰å®ä¾‹</li>
<li>ä¿®æ”¹æ–‡æ¡£æ‰©å±•å</li>
<li>æ‹’ç»è®¿é—®æŸäº›ç±»å‹çš„æ–‡ä»¶</li>
</ul>

<p>ä¼˜åŒ–</p>

<ul>
<li>ä½¿ç”¨å¾ªç¯æ—¶ï¼Œåº”è¯¥å…ˆè®¡ç®—é•¿åº¦ï¼Œä¸è¦æ¯æ¬¡éƒ½è®¡ç®—ä¸€é</li>
<li>ä½¿ç”¨<code>isset($str{10})</code>æ¯”<code>strlen($str) &gt; 10</code>æ›´å¿«ï¼Œå¯¹äºæ•°ç»„ä¹Ÿä¸€æ ·</li>
<li><code>$i++</code>æ¯”<code>++$i</code>ç¨æ…¢ï¼ˆä»…é€‚ç”¨PHPï¼‰</li>
</ul>

<p><em>Mission Complete!</em></p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="15460831337649.html" 
          title="Previous Post: è¯»ã€Šè®¡ç®—å¹¿å‘Šã€‹">&laquo; è¯»ã€Šè®¡ç®—å¹¿å‘Šã€‹</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15446761791149.html" 
          title="Next Post: è¯»ã€Šæ²Ÿé€šåœ£ç»ã€‹">è¯»ã€Šæ²Ÿé€šåœ£ç»ã€‹ &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <script 
    src="https://utteranc.es/client.js"
    repo="AlanAlbert/personal-blog-comments"
    issue-term="pathname"     
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="https://tvax4.sinaimg.cn/crop.0.0.664.664.180/006k9NITly8fejxhyoc3aj30ig0igmy3.jpg?Expires=1562496252&ssig=LhZKVSOY7F&KID=imgbed,tva" /></div>
            
                <h1>Alançš„è¿›é˜¶æ—¥å¿—</h1>
                <div class="site-des">ä¸æœ‰è‚èƒ†äººå…±äº‹ï¼Œä»æ— å­—å¥å¤„è¯»ä¹¦ã€‚</div>
                <div class="social">


<a target="_blank" class="stackoverflow" href="https://stackoverflow.com/users/9723854/alan" title="StackOverflow"></a>




<a target="_blank" class="weibo" href="https://weibo.com/u/5794659803" title="weibo">Weibo</a>
<a target="_blank" class="twitter" target="_blank" href="https://twitter.com/Alan_Albert_" title="Twitter">Twitter</a>
<a target="_blank" class="github" target="_blank" href="https://github.com/AlanAlbert" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:alan1766447919@gmail.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

               
             <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Important</h2>
                </div>
                <div class="side-content">
                  <div style="color:#ff0000; text-align:center; padding:8px;" class="bg-info site_notice">
                    â‘  å¯ä»¥ä½¿ç”¨GitHubè´¦å·ç™»å½•è¿›è¡Œè¯„è®ºå“¦ğŸ˜<br/><br/>â‘¡ æ¬¢è¿å…³æ³¨æˆ‘çš„ä¸ªäººå…¬ä¼—å·ï¼Œä¸€èµ·äº¤æµå­¦ä¹ ~<br/ ><img src="https://mp.weixin.qq.com/mp/qrcode?scene=10000005&size=102&__biz=MzIzNDU0NTc4OA==&mid=100000001&idx=1&sn=34f05b9196beb41e8561cbdfc5de26f5&send_time=1566403069" />
                  </div>
                </div>
            </div>
    

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="php.html"><strong>PHP</strong></a>
        
            <a href="interview.html"><strong>é¢è¯•</strong></a>
        
            <a href="security.html"><strong>å®‰å…¨</strong></a>
        
            <a href="linux.html"><strong>Linux</strong></a>
        
            <a href="mysql.html"><strong>MySQL</strong></a>
        
            <a href="redis.html"><strong>Redis</strong></a>
        
            <a href="data-struct-and-algorithm.html"><strong>æ•°æ®ç»“æ„åŠç®—æ³•</strong></a>
        
            <a href="computer-network.html"><strong>è®¡ç®—æœºç½‘ç»œ</strong></a>
        
            <a href="version-control-tool.html"><strong>ç‰ˆæœ¬æ§åˆ¶å·¥å…·</strong></a>
        
            <a href="read.html"><strong>è¯»ä¹¦</strong></a>
        
            <a href="javascript.html"><strong>JavaScript</strong></a>
        
            <a href="web-server.html"><strong>WebæœåŠ¡å™¨</strong></a>
        
            <a href="hackintosh.html"><strong>é»‘è‹¹æœ</strong></a>
        
            <a href="markdown.html"><strong>Markdown</strong></a>
        
            <a href="other.html"><strong>å…¶å®ƒ</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15810423370557.html">åˆæ¢Docker---ä½¿ç”¨Docker Composeç¼–æ’å®¹å™¨</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15714902755948.html">åˆæ¢Docker---ç¼–å†™Dockerfileæ­å»ºPHPå¼€å‘ç¯å¢ƒ</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15704551543845.html">åˆæ¢Docker---DockeråŠDockerfile</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15685386915043.html">ç™¾ä¸‡çº§æ•°æ®è¿ç§»ã€æ±‡æ€»</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15657597684450.html">PHPå®ç°å¼‚æ­¥å›è°ƒçš„æ€»ç»“</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>



  













<script src="asset/prism.js"></script>


<style type="text/css">
figure{margin: 0;padding: 0;}
figcaption{text-align:center;}

/* PrismJS 1.14.0
 http://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
    color: black;
    background: none;
    text-shadow: 0 1px white;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
    
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
    text-shadow: none;
    background:#b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
    text-shadow: none;
    background: #b3d4fc;
}

@media print {
    code[class*="language-"],
    pre[class*="language-"] {
        text-shadow: none;
    }
}

/* Code blocks */
pre[class*="language-"] {
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
    background: #F7F7F7;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    padding: .1em;
    border-radius: .3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: slategray;
}

.token.punctuation {
    color: #999;
}

.namespace {
    opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
    color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: #9a6e3a;
    background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: #07a;
}

.token.function,
.token.class-name {
    color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
    color: #e90;
}

.token.important,
.token.bold {
    font-weight: bold;
}
.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}


pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>



  </body>
</html>
